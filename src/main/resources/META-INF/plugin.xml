<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <idea-version since-build="212" until-build="233.*" />
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>com.zhongan.devPilot</id>
    <!-- Public plugin name should be written in Title Case.
           Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>DevPilot</name>
    <version>2.3.0</version>
    <change-notes><![CDATA[<h2>Enhancements</h2>
        <ul>
          <li>Enhance the plugin compatibility with LLM responses</li>
        </ul>
        <h2>New Features</h2>
        <ul>
          <li>Supports free trial for users who follow our Weixin Official Account by scanning QR code</li>
          <li>Supports streaming response conversations</li>
          <li>Supports generating commit logs based on change records</li>
          <li>Supports single-round dialogue removal</li>
          <li>Optimize dialogue interaction style</li>
          <li>Supports Command Line mode</li>
          <li>Some models support user feedback on likes and dislikes of results</li>
          <li>Some models support line-level completion of code</li>
        </ul>]]></change-notes>
    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="pilot_group@zhongan.com" url="https://www.zhongan.com">Zhongan Online</vendor>
    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
           Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
           Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description>&lt;!DOCTYPE html&gt;
        &lt;html lang="en"&gt;
        &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;Description&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;

        &lt;h2 id="welcome"&gt;Welcome to DevPilot: Your AI-Infused Code
        Copilot for IntelliJ IDEA!&lt;/h2&gt;
        &lt;h3 id="take-a-glimpse"&gt;Take a Glimpse&lt;/h3&gt;
        &lt;p&gt;Unleash the power of AI in your coding with DevPilot, your new coding buddy, designed exclusively for IntelliJ IDEA.
        This innovative AI-based plugin is set to supercharge your Java development process.&lt;/p&gt;
        &lt;h3 id="stellar-features"&gt;Stellar Features&lt;/h3&gt;
        &lt;ol&gt;
        &lt;li&gt;
        &lt;strong&gt;Intelligent Code Suggestions:&lt;/strong&gt; Say goodbye to coding roadblocks!DevPilot dishes out real-time
        code suggestions as you type, understanding your Java context and serving up precise recommendations.
        &lt;/li&gt;
        &lt;li&gt;
        &lt;strong&gt;Proactive Bug Detection:&lt;/strong&gt; Keep bugs at bay! DevPilot spots potential bugs and errors before
        they become a problem, offering smart solutions and alternatives for efficient, error-free Java code.
        &lt;/li&gt;
        &lt;li&gt;
        &lt;strong&gt;Code Refactoring:&lt;/strong&gt; Level up your code! DevPilot helps optimize your Java code, providing
        insights on how to refactor and boost your code&amp;#39;s structure and performance.
        &lt;/li&gt;
        &lt;li&gt;
        &lt;strong&gt;Unit Test Generation:&lt;/strong&gt; Testing made easy! DevPilot can generate unit testing code for you,
        making sure your code not only works as expected but is also ready for any future changes.
        &lt;/li&gt;
        &lt;li&gt;
        &lt;strong&gt;Code Explanation:&lt;/strong&gt; Don&amp;#39;t just write code, understand it! DevPilot can explain unfamiliar
        code snippets, helping you grasp what&amp;#39;s happening and learn faster.
        &lt;/li&gt;
        &lt;li&gt;
        &lt;strong&gt;Auto-Comments:&lt;/strong&gt; Keep your code clear! DevPilot can automatically add comments to your code,
        ensuring it&amp;#39;s easy to understand and maintain.
        &lt;/li&gt;
        &lt;/ol&gt;
        &lt;h3 id="how-to-use"&gt;How to use&lt;/h3&gt;
        &lt;p&gt;In the dialog box, you can ask any question and send it by pressing Enter or using the send button. DevPilot will
        then provide an answer and display it on the current page.&lt;/p&gt;
        &lt;p&gt;Select a block of code, then right click on the &amp;quot;DevPilot&amp;quot; option on the context menu.You can choose from
        one of: &lt;/p&gt;
        &lt;ul&gt;
        &lt;li&gt;New DevPilot Chat&lt;/li&gt;
        &lt;li&gt;Generate Tests&lt;/li&gt;
        &lt;li&gt;Review Code&lt;/li&gt;
        &lt;li&gt;Generate Comments&lt;/li&gt;
        &lt;li&gt;Fix This&lt;/li&gt;
        &lt;li&gt;Performance Check&lt;/li&gt;
        &lt;li&gt;Explain This&lt;/li&gt;
        &lt;/ul&gt;
        &lt;p&gt;
        &lt;strong&gt;For example&lt;/strong&gt;, select the code, right-click
        &lt;code&gt;-&gt;&lt;/code&gt; DevPilot
        &lt;code&gt;-&gt;&lt;/code&gt; Fix This.
        &lt;br&gt;Then, the window will automatically open and provide relevant suggestions for fixes. You can modify the code
        based on the suggestions.
        &lt;/p&gt;
        &lt;h2 id="ping-us"&gt;Ping Us&lt;/h2&gt;
        &lt;p&gt;Got questions or suggestions, please contact us via email at
        &lt;a href=""&gt;pilot_group@zhongan.com&lt;/a&gt;.
        &lt;/p&gt;
        &lt;/body&gt;
        &lt;/html&gt;</description>
    <!-- Product and plugin compatibility requirements.
           Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>
    <!-- Extension points defined by the plugin.
           Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <postStartupActivity implementation="com.zhongan.devpilot.DevPilotStartupActivity" />
        <applicationConfigurable id="settings.devpilot" parentId="tools" displayName="DevPilot" instance="com.zhongan.devpilot.settings.DevPilotSettingsConfigurable" />
        <httpRequestHandler implementation="com.zhongan.devpilot.rest.za.ZaSsoCallbackRestService" />
        <httpRequestHandler implementation="com.zhongan.devpilot.rest.wx.WxAuthCallbackRestService" />
        <applicationService serviceImplementation="com.zhongan.devpilot.settings.state.OpenAISettingsState" />
        <applicationService serviceImplementation="com.zhongan.devpilot.settings.state.DevPilotLlmSettingsState" />
        <applicationService serviceImplementation="com.zhongan.devpilot.settings.state.LanguageSettingsState" />
        <applicationService serviceImplementation="com.zhongan.devpilot.settings.state.CodeLlamaSettingsState" />
        <applicationService serviceImplementation="com.zhongan.devpilot.settings.state.AIGatewaySettingsState" />
        <applicationService serviceImplementation="com.zhongan.devpilot.settings.actionconfiguration.EditorActionConfigurationState" />
        <applicationService serviceImplementation="com.zhongan.devpilot.settings.state.TrialServiceSettingsState" />
        <applicationService serviceImplementation="com.zhongan.devpilot.settings.state.CompletionSettingsState" />
        <toolWindow id="DevPilot" icon="com.zhongan.devpilot.DevPilotIcons.SYSTEM_ICON" anchor="right" doNotActivateOnStart="true" factoryClass="com.zhongan.devpilot.gui.toolwindows.DevPilotChatToolWindowFactory" />
        <projectService id="DevPilotChatToolWindowService" serviceImplementation="com.zhongan.devpilot.gui.toolwindows.chat.DevPilotChatToolWindowService" />
        <notificationGroup id="DevPilot Notification Group" displayType="BALLOON" key="notification.group.devpilot" />
        <editorFactoryDocumentListener implementation="com.zhongan.devpilot.completions.inline.DevPilotDocumentListener" />
        <editorActionHandler action="EditorEscape" implementationClass="com.zhongan.devpilot.completions.inline.EscapeHandler" id="previewEscape" order="before hide-hints" />
        <statusBarWidgetFactory implementation="com.zhongan.devpilot.statusBar.StatusBarProvider" id="com.zhongan.devpilot.statusBar.StatusBarProvider" />
    </extensions>
    <resource-bundle>messages.devpilot</resource-bundle>
    <actions>
        <group id="DevPilotGroupedActions" icon="com.zhongan.devpilot.DevPilotIcons.SYSTEM_ICON" popup="true" text="DevPilot" description="DevPilot">
            <action id="com.zhongan.devpilot.actions.editor.popupmenu.BasicEditorAction" class="com.intellij.openapi.actionSystem.DefaultActionGroup" popup="true" text="DevPilot" description="Basic actions of DevPilot" />
            <add-to-group group-id="EditorPopupMenu" anchor="first" />
        </group>
        <action class="com.zhongan.devpilot.completions.inline.AcceptDevPilotInlineCompletionAction" id="AcceptDevPilotInlineCompletionAction" text="Accept Inline Completion">
            <keyboard-shortcut first-keystroke="TAB" keymap="$default" />
        </action>
        <!--support alt + B-->
        <action class="com.zhongan.devpilot.completions.inline.ManualTriggerDevPilotInlineCompletionAction" id="ManualTriggerDevPilotInlineCompletionAction" text="Trigger Inline Completion">
            <keyboard-shortcut first-keystroke="alt B" keymap="$default" />
        </action>
        <group id="DevPilot.GenerateGitCommitMessageGroup">
            <add-to-group group-id="Vcs.MessageActionGroup" anchor="first" />
            <action id="DevPilot.GenerateGitCommitMessage" class="com.zhongan.devpilot.actions.changesview.GenerateGitCommitMessageAction" />
        </group>
    </actions>
    <applicationListeners>
        <listener class="com.zhongan.devpilot.listener.ThemeChangeListener" topic="com.intellij.ide.ui.LafManagerListener" />
    </applicationListeners>
</idea-plugin>
